<ion-content padding>

  <img *ngIf="!currentPage" class="filigram mini left" src="assets/icon/filigram.png">

  <div *ngIf="!currentPage" class="space-header">
    <img src="assets/icon/lacite.png">
    <h2>{{ 'SPACES_TITLE' | translate }}</h2>
  </div>

  <div *ngIf="!currentPage" class="lacite-map">

    <img (click)="goToSpace('ext')" class="ext ext1" src="assets/icon/ext1.png">
    <img (click)="goToSpace('ext')" class="ext ext2" src="assets/icon/ext2.png">

    <img src="assets/img/lacite_map.png" usemap="#lacite">

    <map name="lacite">

      <area shape="poly" coords="48,294,52,390,88,416,138,440,174,448,208,444,236,432,262,410,269,380,270,354,263,316,236,292,206,266,176,227,175,228" (click)="goToSpace('gra_aud')" />

      <area shape="poly" coords="246,289,246,299,265,329,281,348,320,377,372,355,416,328,376,294,356,289,311,260,301,253" (click)="goToSpace('aud_800')" />

      <area shape="poly" coords="174,25,176,61,215,46,216,71,246,82,281,60,284,54,241,13,187,13" (click)="goToSpace('aud_450')" />

      <area shape="poly" coords="268,188,514,354,587,296,481,259,320,152" (click)="goToSpace('gra_hal')" />

      <area shape="poly" coords="138,64,181,56,211,44,218,68,259,91,258,101,221,118,232,138,227,144,197,119,155,95,150,77" (click)="goToSpace('mez')" />

      <area shape="poly" coords="313,152,329,143,354,160,374,149,388,145,539,234,522,263,506,268,496,266" (click)="goToSpace('foy_bas')" />

      <area shape="poly" coords="252,17,451,31,414,160,395,146,353,162,322,148,300,152,247,109,258,98,256,92,240,85,284,60" (click)="goToSpace('foy_hau')" />

      <area shape="poly" coords="403,316,421,295,316,220,280,244,280,241,281,241,282,241,280,244" (click)="goToSpace('esp_r0')" />

      <area shape="poly" coords="212,208,281,169,236,140,223,145,131,62,114,68,113,100,95,133,96,132" (click)="goToSpace('esp_r2')" />

      <area shape="poly" coords="350,470,511,361,434,307,318,378,272,340,284,379,299,408,290,419,353,472" (click)="goToSpace('gra_gal')" />

      <area shape="poly" coords="115,452,137,436,176,443,205,442,234,430,258,410,265,378,268,355,300,410,296,419,318,443,328,452,244,502,205,478,155,476" (click)="goToSpace('foy_gra_aud')" />

      <area shape="poly" coords="208,209,259,180,318,220,282,248,283,248" (click)="goToSpace('clu_atl')" />

    </map>

  </div>

  <div *ngIf="currentPage" class="keys">
    <div class="key" *ngFor="let key of (user.lang === 'fr' ? keys : englishKeys)">
      <div class="number">{{ key.number }}</div>
      <div class="string">{{ key.string }}</div>
    </div>
  </div>

  <div *ngIf="currentPage && (user.lang === 'fr' ? documentsNb.fr > 0 : documentsNb.en > 0)" class="actions">
    <button class="send-button" (click)="documentsOpen = documentsOpen ? !documentsOpen : true" [ngClass]="{ 'active': documentsOpen }" *ngIf="documents.length" ion-button color="primary" round>
      <img class="send" src="assets/icon/send.png">
      {{ 'DESTINATION_SEND' | translate }}
      <img class="icon" src="assets/icon/arrow_b.png">
    </button>
  </div>

  <ion-list *ngIf="currentPage && documentsOpen" class="documentsList">
    <div class="list" *ngFor="let document of documents | orderBy: 'name' : false : true">
      <ion-item *ngIf="document.language.toLowerCase() === user.lang">
        <a [href]="document.downloadUrl" target="_blank" (click)="openDocument($event, document)">{{ document.name }}</a>
        <img (click)="carrier.addToCarrier(document)" class="icon" src="assets/icon/send.png">
      </ion-item>
    </div>
  </ion-list>

  <ion-slides *ngIf="currentPage" pager>

    <ion-slide *ngFor="let photo of photos">
      <div (press)="photoPressed(photo)" class="image" [ngStyle]="{'background-image':'linear-gradient(
          -180deg, transparent 80%, rgba(40, 40, 40, 0.8) 100%), url(' + (photo.localUrl || photo.downloadUrl) + ')'}"></div>
      <div class="legend">
        <p>{{ user.lang === 'fr' ? photo.legend1 : photo.englishLegend1 }}</p>
        <span *ngIf="user.lang === 'fr' ? photo.legend2 : photo.englishLegend2">|</span>
        <p *ngIf="user.lang === 'fr' ? photo.legend2 : photo.englishLegend2">{{ user.lang === 'fr' ? photo.legend2 : photo.englishLegend2 }}</p>
      </div>
    </ion-slide>

  </ion-slides>

  <div *ngIf="services.length > 0" class="right-menu">
    <li [ngClass]="{ 'active': serviceActivated === service.id }" *ngFor="let service of services | orderBy: 'label' : false : true" (click)="activeService(service.id)">
      <img class="menu-icon" [src]="'assets/icon/services/' + service.icon">
      <div class="category-hover">
        <p><span>{{ user.lang === 'fr' ? service.label : service.englishLabel }}</span></p>
      </div>
    </li>
  </div>

</ion-content>
